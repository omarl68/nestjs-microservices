import{jsxs as s,Fragment as y,jsx as e}from"react/jsx-runtime";import{u as S,d as M,c as N,e as O,b as $,Z as K,B as w,f as W,A as q,dJ as z,a3 as h,D as U,T as Y,Y as B,G as R,a4 as j,a0 as p,a1 as f,I as D,J as T,S as l,ab as G}from"./index-C9t2UlUN.js";import{u as H}from"./ConfirmDialog-BDkqxnFL.js";import{V as A}from"./ViewHeader-cxZm8XhN.js";import{F as J}from"./FormAccess-DnQCcStE.js";import{u as L}from"./useToggle-K3Kx99tM.js";import{i as V}from"./isEqual-CVfl2lzU.js";const te=({provider:i,save:a,noDivider:c=!1,dropdownItems:d=[]})=>{const{t:r}=S(),{id:g}=M(),x=N(),{addAlert:b,addError:_}=O(),{realm:C}=$(),{control:u,setValue:I}=K(),[v,E]=H({titleKey:"userFedDisableConfirmTitle",messageKey:"userFedDisableConfirm",continueButtonLabel:"disable",onConfirm:()=>{I("config.enabled[0]","false"),a()}}),[m,n]=H({titleKey:"userFedDeleteConfirmTitle",messageKey:"userFedDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:w.danger,onConfirm:async()=>{try{await W.components.del({id:g}),b(r("userFedDeletedSuccess"),q.success),x(z({realm:C}),{replace:!0})}catch(o){_("userFedDeleteError",o)}}});return s(y,{children:[e(E,{}),e(n,{}),e(h,{name:"config.enabled",defaultValue:["true"],control:u,render:({field:o})=>g?e(A,{divider:!c,titleKey:i,dropdownItems:[...d,e(U,{onClick:()=>m(),"data-testid":"delete-cmd",children:r("deleteProvider")},"delete")],isEnabled:o.value?.[0]==="true"||o.value==="true",onToggle:t=>{t?(o.onChange([t.toString()]),a()):v()}}):e(A,{titleKey:r("addProvider",{provider:i,count:1})})})]})},X=({title:i,description:a,showDescription:c=!1})=>s(y,{children:[e(Y,{size:"xl",headingLevel:"h2",className:c?"kc-wizard-section-header__title--has-description":"kc-wizard-section-header__title",children:i}),c&&e(B,{className:"kc-wizard-section-header__description",children:e(R,{children:a})})]}),k=({form:i})=>{const{t:a}=S(),[c,d]=L(),[r,g]=L(),[x,b]=L(),[_,C]=L(),u=j({control:i.control,name:"config.cachePolicy"}),I=[e(l,{value:["0"],isPlaceholder:!0,children:["00"]},0)];let v="";for(let n=1;n<24;n++)n<10?v=`0${n}`:v=`${n}`,I.push(e(l,{value:[`${n}`],children:v},n));const E=[e(l,{value:["0"],isPlaceholder:!0,children:["00"]},0)];let m="";for(let n=1;n<60;n++)n<10?m=`0${n}`:m=`${n}`,E.push(e(l,{value:[`${n}`],children:m},n));return s(y,{children:[e(p,{label:a("cachePolicy"),labelIcon:e(f,{helpText:a("cachePolicyHelp"),fieldLabelId:"cachePolicy"}),fieldId:"kc-cache-policy",children:e(h,{name:"config.cachePolicy",defaultValue:["DEFAULT"],control:i.control,render:({field:n})=>s(D,{toggleId:"kc-cache-policy",required:!0,onToggle:d,isOpen:c,onSelect:(o,t)=>{n.onChange(t),d()},selections:n.value,variant:T.single,"data-testid":"kerberos-cache-policy","aria-label":a("selectCachePolicy"),children:[e(l,{value:["DEFAULT"],isPlaceholder:!0},0),e(l,{value:["EVICT_DAILY"]},1),e(l,{value:["EVICT_WEEKLY"]},2),e(l,{value:["MAX_LIFESPAN"]},3),e(l,{value:["NO_CACHE"]},4)]})})}),V(u,["EVICT_WEEKLY"])?e(p,{label:a("evictionDay"),labelIcon:e(f,{helpText:a("evictionDayHelp"),fieldLabelId:"evictionDay"}),isRequired:!0,fieldId:"kc-eviction-day",children:e(h,{name:"config.evictionDay[0]",defaultValue:"1",control:i.control,render:({field:n})=>s(D,{"data-testid":"cache-day",toggleId:"kc-eviction-day",required:!0,onToggle:C,isOpen:_,onSelect:(o,t)=>{n.onChange(t),C()},selections:n.value,variant:T.single,"aria-label":a("selectEvictionDay"),children:[e(l,{value:"1",isPlaceholder:!0,children:a("Sunday")},0),e(l,{value:"2",children:a("Monday")},1),e(l,{value:"3",children:a("Tuesday")},2),e(l,{value:"4",children:a("Wednesday")},3),e(l,{value:"5",children:a("Thursday")},4),e(l,{value:"6",children:a("Friday")},5),e(l,{value:"7",children:a("Saturday")},6)]})})}):null,V(u,["EVICT_DAILY"])||V(u,["EVICT_WEEKLY"])?s(y,{children:[e(p,{label:a("evictionHour"),labelIcon:e(f,{helpText:a("evictionHourHelp"),fieldLabelId:"evictionHour"}),isRequired:!0,fieldId:"kc-eviction-hour",children:e(h,{name:"config.evictionHour",defaultValue:["0"],control:i.control,render:({field:n})=>e(D,{toggleId:"kc-eviction-hour",onToggle:g,isOpen:r,onSelect:(o,t)=>{n.onChange(t),g()},selections:n.value,variant:T.single,"aria-label":a("selectEvictionHour"),children:I})})}),e(p,{label:a("evictionMinute"),labelIcon:e(f,{helpText:a("evictionMinuteHelp"),fieldLabelId:"evictionMinute"}),isRequired:!0,fieldId:"kc-eviction-minute",children:e(h,{name:"config.evictionMinute",defaultValue:["0"],control:i.control,render:({field:n})=>e(D,{toggleId:"kc-eviction-minute",onToggle:b,isOpen:x,onSelect:(o,t)=>{n.onChange(t),b()},selections:n.value,variant:T.single,"aria-label":a("selectEvictionMinute"),children:E})})})]}):null,V(u,["MAX_LIFESPAN"])?e(p,{label:a("maxLifespan"),labelIcon:e(f,{helpText:a("maxLifespanHelp"),fieldLabelId:"maxLifespan"}),fieldId:"kc-max-lifespan",children:e(h,{name:"config.maxLifespan[0]",defaultValue:0,control:i.control,render:({field:n})=>{const t=P=>n.onChange(Math.max(P,0));return e(G,{id:"kc-max-lifespan","data-testid":"kerberos-cache-lifespan",value:n.value,min:0,unit:a("ms"),type:"text",onPlus:()=>n.onChange(Number(n.value)+1),onMinus:()=>n.onChange(Number(n.value)-1),onChange:P=>{const F=Number(P.currentTarget.value);t(isNaN(F)?0:F)}})}})}):null]})},oe=({form:i,showSectionHeading:a=!1,showSectionDescription:c=!1,unWrap:d=!1})=>{const{t:r}=S();return s(y,{children:[a&&e(X,{title:r("cacheSettings"),description:r("cacheSettingsDescription"),showDescription:c}),d?e(k,{form:i}):e(J,{role:"manage-realm",isHorizontal:!0,children:e(k,{form:i})})]})};export{te as H,oe as S,X as W};
//# sourceMappingURL=SettingsCache-VBvTpNnN.js.map
