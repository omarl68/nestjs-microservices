{"version":3,"file":"AttributeForm-CF8uy5gF.js","sources":["../../src/components/key-value-form/AttributeForm.tsx"],"sourcesContent":["import type RoleRepresentation from \"@keycloak/keycloak-admin-client/lib/defs/roleRepresentation\";\nimport { ActionGroup, Button } from \"@patternfly/react-core\";\nimport { FormProvider, UseFormReturn } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { FormAccess } from \"../form/FormAccess\";\nimport type { KeyValueType } from \"./key-value-convert\";\nimport { KeyValueInput } from \"./KeyValueInput\";\n\nexport type AttributeForm = Omit<RoleRepresentation, \"attributes\"> & {\n  attributes?: KeyValueType[];\n};\n\nexport type AttributesFormProps = {\n  form: UseFormReturn<AttributeForm>;\n  save?: (model: AttributeForm) => void;\n  reset?: () => void;\n  fineGrainedAccess?: boolean;\n  name?: string;\n  isDisabled?: boolean;\n};\n\nexport const AttributesForm = ({\n  form,\n  reset,\n  save,\n  fineGrainedAccess,\n  name = \"attributes\",\n  isDisabled = false,\n}: AttributesFormProps) => {\n  const { t } = useTranslation();\n  const noSaveCancelButtons = !save && !reset;\n  const {\n    formState: { isDirty },\n    handleSubmit,\n  } = form;\n\n  return (\n    <FormAccess\n      role=\"manage-realm\"\n      onSubmit={save ? handleSubmit(save) : undefined}\n      fineGrainedAccess={fineGrainedAccess}\n    >\n      <FormProvider {...form}>\n        <KeyValueInput name={name} isDisabled={isDisabled} />\n      </FormProvider>\n      {!noSaveCancelButtons && (\n        <ActionGroup className=\"kc-attributes__action-group\">\n          <Button\n            data-testid=\"save-attributes\"\n            variant=\"primary\"\n            type=\"submit\"\n            isDisabled={!isDirty}\n          >\n            {t(\"save\")}\n          </Button>\n          <Button onClick={reset} variant=\"link\" isDisabled={!isDirty}>\n            {t(\"revert\")}\n          </Button>\n        </ActionGroup>\n      )}\n    </FormAccess>\n  );\n};\n"],"names":["AttributesForm","form","reset","save","fineGrainedAccess","name","isDisabled","t","useTranslation","noSaveCancelButtons","isDirty","handleSubmit","jsxs","FormAccess","jsx","FormProvider","KeyValueInput","ActionGroup","Button"],"mappings":"4OAsBO,MAAMA,EAAiB,CAAC,CAC7B,KAAAC,EACA,MAAAC,EACA,KAAAC,EACA,kBAAAC,EACA,KAAAC,EAAO,aACP,WAAAC,EAAa,EACf,IAA2B,CACnB,KAAA,CAAE,EAAAC,GAAMC,IACRC,EAAsB,CAACN,GAAQ,CAACD,EAChC,CACJ,UAAW,CAAE,QAAAQ,CAAQ,EACrB,aAAAC,CACE,EAAAV,EAGF,OAAAW,EAACC,EAAA,CACC,KAAK,eACL,SAAUV,EAAOQ,EAAaR,CAAI,EAAI,OACtC,kBAAAC,EAEA,SAAA,CAAAU,EAACC,GAAc,GAAGd,EAChB,WAACe,EAAc,CAAA,KAAAX,EAAY,WAAAC,EAAwB,CACrD,CAAA,EACC,CAACG,GACCG,EAAAK,EAAA,CAAY,UAAU,8BACrB,SAAA,CAAAH,EAACI,EAAA,CACC,cAAY,kBACZ,QAAQ,UACR,KAAK,SACL,WAAY,CAACR,EAEZ,WAAE,MAAM,CAAA,CACX,EACAI,EAACI,EAAO,CAAA,QAAShB,EAAO,QAAQ,OAAO,WAAY,CAACQ,EACjD,SAAEH,EAAA,QAAQ,CACb,CAAA,CAAA,EACF,CAAA,CAAA,CAAA,CAIR"}