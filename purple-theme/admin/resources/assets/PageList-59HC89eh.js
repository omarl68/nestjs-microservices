import{jsxs as R,jsx as a}from"react/jsx-runtime";import{useState as s}from"react";import{u as S,e as b,c as x,d as C,b as d,a as A,q as B,B as E,f as n,P as V,h as w,L as p,c8 as m}from"./index-C9t2UlUN.js";import{u as N}from"./ConfirmDialog-BDkqxnFL.js";import{L as O}from"./PaginatingTableToolbar-oQUfBy2J.js";import{a1 as U}from"./KeycloakDataTable-2rLFZPhG.js";import{V as _}from"./ViewHeader-cxZm8XhN.js";import{b as q}from"./ToolbarContent-D6TJq6fk.js";import"react-dom";import"./Modal-Bgkd26UL.js";import"./EmptyStateBody-CyIhnUop.js";import"./EmptyStateSecondaryActions-BekVwNvY.js";import"./Form-Cdw1qhWG.js";import"./grip-vertical-icon-B_ub3hpF.js";import"./_baseFlatten-BQ8y46Zj.js";const l="org.keycloak.services.ui.extend.UiPageProvider",oe="org.keycloak.services.ui.extend.UiTabProvider",F=t=>{const{realm:o}=d();return a(p,{to:m({realm:o,providerId:t.providerId,id:t.id}),children:t.id},t.id)};function ie(){const{t}=S(),{addAlert:o,addError:u}=b(),f=x(),{providerId:y}=C(),[c,g]=s(0),I=()=>g(c+1),{realm:i}=d(),[v,h]=s(),[P,D]=s(),{componentTypes:k}=A(),r=k?.[l]?.find(e=>e.id===y);B(async()=>n.realms.findOne({realm:i}),h,[]);const K=async()=>{const e={parent:v?.id,type:l};return await n.components.find({...e})},[T,L]=N({titleKey:"itemDeleteConfirmTitle",messageKey:"itemDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:E.danger,onConfirm:async()=>{try{await n.components.del({id:P.id}),o(t("itemDeletedSuccess")),I()}catch(e){u("itemSaveError",e)}}});return R(V,{variant:"light",className:"pf-u-p-0",children:[a(L,{}),a(_,{titleKey:r.id,subKey:r.helpText,divider:!1}),a(U,{toolbarItem:a(q,{children:a(w,{component:e=>a(p,{...e,to:m({realm:i,providerId:r.id})}),children:t("createItem")})}),actionResolver:e=>[{title:t("delete"),onClick(){D(e.data),T()}}],searchPlaceholderKey:"searchItem",loader:K,columns:[{name:"id",cellRenderer:F},...r.properties.slice(0,3).map(e=>({name:`config.${e.name}[0]`,displayKey:e.label}))],ariaLabelKey:"list",emptyState:a(O,{hasIcon:!0,message:t("noItems"),instructions:t("noItemsInstructions"),primaryActionText:t("createItem"),onPrimaryAction:()=>f(m({realm:i,providerId:r.id}))})},c)]})}export{l as PAGE_PROVIDER,oe as TAB_PROVIDER,ie as default};
//# sourceMappingURL=PageList-59HC89eh.js.map
