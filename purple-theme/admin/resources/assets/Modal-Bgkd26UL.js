import{_ as u,k as n,h as le,aC as te,aW as oe,C as se,cE as ie,cF as re,bd as ne,cG as de,cH as ce,cI as pe,K as me,cg as be,cJ as ue,cK as fe,aD as he,cf as ye,c9 as xe}from"./index-C9t2UlUN.js";import*as e from"react";import*as ge from"react-dom";const x={backdrop:"pf-c-backdrop",backdropOpen:"pf-c-backdrop__open"},j=a=>{var{children:l=null,className:t=""}=a,o=u(a,["children","className"]);return e.createElement("div",Object.assign({},o,{className:n(x.backdrop,t)}),l)};j.displayName="Backdrop";const m={button:"pf-c-button",modalBox:"pf-c-modal-box",modalBoxBody:"pf-c-modal-box__body",modalBoxDescription:"pf-c-modal-box__description",modalBoxFooter:"pf-c-modal-box__footer",modalBoxHeader:"pf-c-modal-box__header",modalBoxHeaderMain:"pf-c-modal-box__header-main",modalBoxTitle:"pf-c-modal-box__title",modalBoxTitleIcon:"pf-c-modal-box__title-icon",modalBoxTitleText:"pf-c-modal-box__title-text",modifiers:{sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",alignTop:"pf-m-align-top",danger:"pf-m-danger",warning:"pf-m-warning",success:"pf-m-success",default:"pf-m-default",info:"pf-m-info",help:"pf-m-help",icon:"pf-m-icon"},themeDark:"pf-theme-dark"},w=a=>{var{children:l=null,className:t=""}=a,o=u(a,["children","className"]);return e.createElement("div",Object.assign({},o,{className:n(m.modalBoxBody,t)}),l)};w.displayName="ModalBoxBody";const T=a=>{var{className:l="",onClose:t=()=>{},ouiaId:o}=a,s=u(a,["className","onClose","ouiaId"]);return e.createElement(le,Object.assign({className:l,variant:"plain",onClick:t,"aria-label":"Close"},o&&{ouiaId:`${o}-${T.displayName}`},s),e.createElement(te,null))};T.displayName="ModalBoxCloseButton";const Ie={name:"--pf-c-modal-box--m-align-top--spacer",value:"0.5rem",var:"var(--pf-c-modal-box--m-align-top--spacer)"},W=a=>{var{children:l,className:t="",variant:o="default",position:s,positionOffset:i,"aria-labelledby":p,"aria-label":r="","aria-describedby":d,style:c}=a,b=u(a,["children","className","variant","position","positionOffset","aria-labelledby","aria-label","aria-describedby","style"]);return i&&(c=c||{},c[Ie.name]=i),e.createElement("div",Object.assign({},b,{role:"dialog","aria-label":r||null,"aria-labelledby":p||null,"aria-describedby":d,"aria-modal":"true",className:n(m.modalBox,t,s==="top"&&m.modifiers.alignTop,o==="large"&&m.modifiers.lg,o==="small"&&m.modifiers.sm,o==="medium"&&m.modifiers.md),style:c}),l)};W.displayName="ModalBox";const L=a=>{var{children:l=null,className:t=""}=a,o=u(a,["children","className"]);return e.createElement("footer",Object.assign({},o,{className:n(m.modalBoxFooter,t)}),l)};L.displayName="ModalBoxFooter";const H=a=>{var{children:l=null,className:t="",id:o=""}=a,s=u(a,["children","className","id"]);return e.createElement("div",Object.assign({},s,{id:o,className:n(m.modalBoxDescription,t)}),l)};H.displayName="ModalBoxDescription";const C=a=>{var{children:l=null,className:t="",help:o=null}=a,s=u(a,["children","className","help"]);return e.createElement("header",Object.assign({className:n(m.modalBoxHeader,o&&m.modifiers.help,t)},s),o&&e.createElement(e.Fragment,null,e.createElement("div",{className:n(m.modalBoxHeaderMain)},l),e.createElement("div",{className:"pf-c-modal-box__header-help"},o)),!o&&l)};C.displayName="ModalBoxHeader";const N=a=>["success","danger","warning","info","default"].includes(a),V=a=>{var{className:l="",id:t,title:o,titleIconVariant:s,titleLabel:i=""}=a,p=u(a,["className","id","title","titleIconVariant","titleLabel"]);const[r,d]=e.useState(!1),c=e.useRef(null),b=i||(N(s)?`${oe(s)} alert:`:i),y={success:e.createElement(se,null),danger:e.createElement(ie,null),warning:e.createElement(re,null),info:e.createElement(ne,null),default:e.createElement(de,null)},f=!N(s)&&s;ce(()=>{d(c.current&&c.current.offsetWidth<c.current.scrollWidth)},[]);const h=e.createElement("h1",Object.assign({id:t,ref:c,className:n(m.modalBoxTitle,s&&m.modifiers.icon,l)},p),s&&e.createElement("span",{className:n(m.modalBoxTitleIcon)},N(s)?y[s]:e.createElement(f,null)),b&&e.createElement("span",{className:n(pe.screenReader)},b),e.createElement("span",{className:n(m.modalBoxTitleText)},o));return r?e.createElement(me,{content:o},h):h};V.displayName="ModalBoxTitle";const k=a=>{var{children:l,className:t="",isOpen:o=!1,header:s=null,help:i=null,description:p=null,title:r="",titleIconVariant:d=null,titleLabel:c="","aria-label":b="","aria-describedby":y,"aria-labelledby":f,bodyAriaLabel:h,bodyAriaRole:B,showClose:I=!0,footer:M=null,actions:_=[],onClose:$=()=>{},variant:K="default",position:P,positionOffset:U,width:S=-1,boxId:v,labelId:A,descriptorId:O,disableFocusTrap:z=!1,hasNoBodyWrapper:D=!1,ouiaId:F,ouiaSafe:G=!0}=a,J=u(a,["children","className","isOpen","header","help","description","title","titleIconVariant","titleLabel","aria-label","aria-describedby","aria-labelledby","bodyAriaLabel","bodyAriaRole","showClose","footer","actions","onClose","variant","position","positionOffset","width","boxId","labelId","descriptorId","disableFocusTrap","hasNoBodyWrapper","ouiaId","ouiaSafe"]);if(!o)return null;const q=s?e.createElement(C,{help:i},s):r&&e.createElement(C,{help:i},e.createElement(V,{title:r,titleIconVariant:d,titleLabel:c,id:A}),p&&e.createElement(H,{id:O},p)),Q=M?e.createElement(L,null,M):_.length>0&&e.createElement(L,null,_),X=h?"region":void 0,Y=D?l:e.createElement(w,Object.assign({"aria-label":h,role:B||X},J,!p&&!y&&{id:O}),l),Z=S===-1?{}:{width:S},ee=()=>{if(f===null)return null;const E=[];return(b&&v)!==""&&E.push(b&&v),f&&E.push(f),r&&E.push(A),E.join(" ")},ae=e.createElement(W,Object.assign({id:v,style:Z,className:n(t,N(d)&&m.modifiers[d]),variant:K,position:P,positionOffset:U,"aria-label":b,"aria-labelledby":ee(),"aria-describedby":y||(D?null:O)},be(k.displayName,F,G)),I&&e.createElement(T,{onClose:$,ouiaId:F}),q,Y,Q);return e.createElement(j,null,e.createElement(ue,{active:!z,focusTrapOptions:{clickOutsideDeactivates:!0,tabbableOptions:{displayCheck:"none"}},className:n(fe.bullseye)},ae))};k.displayName="ModalContent";var R;(function(a){a.small="small",a.medium="medium",a.large="large",a.default="default"})(R||(R={}));class g extends e.Component{constructor(l){super(l),this.boxId="",this.labelId="",this.descriptorId="",this.handleEscKeyClick=i=>{var p,r;const{onEscapePress:d}=this.props;i.key===he.Escape&&this.props.isOpen&&(d?d(i):(r=(p=this.props).onClose)===null||r===void 0||r.call(p))},this.getElement=i=>typeof i=="function"?i():i||document.body,this.toggleSiblingsFromScreenReaders=i=>{const{appendTo:p}=this.props,d=this.getElement(p).children;for(const c of Array.from(d))c!==this.state.container&&(i?c.setAttribute("aria-hidden",""+i):c.removeAttribute("aria-hidden"))},this.isEmpty=i=>i==null||i==="";const t=g.currentId++,o=t+1,s=t+2;this.boxId=l.id||`pf-modal-part-${t}`,this.labelId=`pf-modal-part-${o}`,this.descriptorId=`pf-modal-part-${s}`,this.state={container:void 0,ouiaStateId:ye(g.displayName,l.variant)}}componentDidMount(){const{appendTo:l,title:t,"aria-label":o,"aria-labelledby":s,hasNoBodyWrapper:i,header:p}=this.props,r=this.getElement(l),d=document.createElement("div");this.setState({container:d}),r.appendChild(d),r.addEventListener("keydown",this.handleEscKeyClick,!1),this.props.isOpen?r.classList.add(n(x.backdropOpen)):r.classList.remove(n(x.backdropOpen)),this.isEmpty(t)&&this.isEmpty(o)&&this.isEmpty(s)&&console.error("Modal: Specify at least one of: title, aria-label, aria-labelledby."),this.isEmpty(o)&&this.isEmpty(s)&&(i||p)&&console.error("Modal: When using hasNoBodyWrapper or setting a custom header, ensure you assign an accessible name to the the modal container with aria-label or aria-labelledby.")}componentDidUpdate(){const{appendTo:l}=this.props,t=this.getElement(l);this.props.isOpen?(t.classList.add(n(x.backdropOpen)),this.toggleSiblingsFromScreenReaders(!0)):(t.classList.remove(n(x.backdropOpen)),this.toggleSiblingsFromScreenReaders(!1))}componentWillUnmount(){const{appendTo:l}=this.props,t=this.getElement(l);this.state.container&&t.removeChild(this.state.container),t.removeEventListener("keydown",this.handleEscKeyClick,!1),t.classList.remove(n(x.backdropOpen))}render(){const l=this.props,{appendTo:t,onEscapePress:o,"aria-labelledby":s,"aria-label":i,"aria-describedby":p,bodyAriaLabel:r,bodyAriaRole:d,title:c,titleIconVariant:b,titleLabel:y,ouiaId:f,ouiaSafe:h}=l,B=u(l,["appendTo","onEscapePress","aria-labelledby","aria-label","aria-describedby","bodyAriaLabel","bodyAriaRole","title","titleIconVariant","titleLabel","ouiaId","ouiaSafe"]),{container:I}=this.state;return!xe||!I?null:ge.createPortal(e.createElement(k,Object.assign({},B,{boxId:this.boxId,labelId:this.labelId,descriptorId:this.descriptorId,title:c,titleIconVariant:b,titleLabel:y,"aria-label":i,"aria-describedby":p,"aria-labelledby":s,bodyAriaLabel:r,bodyAriaRole:d,ouiaId:f!==void 0?f:this.state.ouiaStateId,ouiaSafe:h})),I)}}g.displayName="Modal";g.currentId=0;g.defaultProps={className:"",isOpen:!1,title:"",titleIconVariant:null,titleLabel:"","aria-label":"",showClose:!0,"aria-describedby":"","aria-labelledby":"",id:void 0,actions:[],onClose:()=>{},variant:"default",hasNoBodyWrapper:!1,appendTo:()=>document.body,ouiaSafe:!0};export{g as M,R as a};
//# sourceMappingURL=Modal-Bgkd26UL.js.map
