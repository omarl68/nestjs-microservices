import{jsx as e,jsxs as a,Fragment as X}from"react/jsx-runtime";import{useState as E,useMemo as _}from"react";import{u as L,a as Q,P as p,b as G,q as Z,bH as $,bI as re,bl as N,T as k,p as ae,r as ie,U as te,Y as ne,G as j,bJ as M,H as le,h as T,ag as D,bb as oe,bc as U,y as z,b9 as F,z as B,a1 as V,f as ee,n as S}from"./index-C9t2UlUN.js";import{R as se,u as ce}from"./RoutableTabs-vx5wTdby.js";import{T as de}from"./PaginatingTableToolbar-oQUfBy2J.js";import{a3 as K,a4 as me,a5 as P,a6 as Y,a7 as H,a8 as y}from"./KeycloakDataTable-2rLFZPhG.js";import{E as he}from"./ExpandableSection-DjAskWMd.js";import{a as R,b as A}from"./Tabs-CjrDEqsl.js";import{D as C,a as I,b as m,c as h}from"./DescriptionListTerm-CWlDWEWz.js";import{L as W,a as q,b as pe}from"./ListItem-B-msUVzK.js";import{E as fe,a as be}from"./EmptyStateBody-CyIhnUop.js";import{A as ue,a as O}from"./KeySelect-CPI9XGq0.js";import"react-dom";import"./PageHandler-TK8xnd8P.js";import"./DynamicComponents-D5DD9CFr.js";import"./FileUpload-CTw4RKK1.js";import"./CodeEditor-Cp4g17EF.js";import"./copy-icon-CYSS18Ce.js";import"./EmptyStateSecondaryActions-BekVwNvY.js";import"./GroupPickerDialog-tI6XV7Ln.js";import"./useToggle-K3Kx99tM.js";import"./KeycloakTextInput-DrlF32nr.js";import"./Modal-Bgkd26UL.js";import"./Form-Cdw1qhWG.js";import"./ConfirmDialog-BDkqxnFL.js";import"./DataListItemRow-Bimi62Tu.js";import"./grip-vertical-icon-B_ub3hpF.js";import"./_baseFlatten-BQ8y46Zj.js";import"./FlexItem-BEayPdRt.js";import"./MultiLineInput-DibC-IV_.js";import"./PasswordInput-CJKuHljf.js";import"./AddRoleMappingModal-BWNuJU0W.js";import"./filter-icon-C8nM2k1N.js";import"./ToolbarContent-D6TJq6fk.js";import"./KeycloakTextArea-DChmurIP.js";import"./PageList-59HC89eh.js";import"./ViewHeader-cxZm8XhN.js";import"./MenuList-Br-Zu33q.js";var b;(function(r){r.Default="DEFAULT",r.DisabledByDefault="DISABLED_BY_DEFAULT",r.Preview="PREVIEW",r.PreviewDisabledByDefault="PREVIEW_DISABLED_BY_DEFAULT",r.Experimental="EXPERIMENTAL",r.Deprecated="DEPRECATED"})(b||(b={}));const ve=()=>{const{t:r}=L(),i=Q(),[t,f]=E(""),[o,d]=E([]),u=_(()=>Object.entries(i.providers||[]).filter(([l])=>l.toLowerCase().includes(t.toLowerCase())),[t]),w=l=>{o.includes(l)?d(o.filter(c=>c!==l)):d([...o,l])};return e(p,{variant:"light",children:e(de,{inputGroupName:"search",inputGroupPlaceholder:r("search"),inputGroupOnEnter:f,children:a(K,{variant:"compact",children:[e(me,{children:a(P,{children:[e(Y,{width:20,children:r("spi")}),e(Y,{children:r("providers")})]})}),e(H,{children:u.map(([l,{providers:c}])=>a(P,{children:[e(y,{children:l}),e(y,{children:e("ul",{children:Object.entries(c).map(([s,{operationalInfo:v}])=>a("li",{children:[s,v?e(he,{isExpanded:o.includes(s),onToggle:()=>w(s),toggleText:o.includes(s)?r("showLess"):r("showMore"),children:e(K,{borders:!1,children:e(H,{children:Object.entries(v).map(([g,x])=>a(P,{children:[e(y,{children:g}),e(y,{children:x})]},g))})})},s):null]},s))})})]},l))})]})})})},ge=()=>{const{t:r}=L(),{realm:i}=G(),[t,f]=E(),o=N.logo?N.logo:"/icon.svg";Z(()=>ee.realms.findOne({realm:i}),f,[]);const d=$(r,t?.displayName,i);return e(p,{variant:"light",children:a(fe,{variant:"large",children:[e(re,{src:N.resourceUrl+o,alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(k,{headingLevel:"h2",size:"3xl",children:r("welcome")}),e(k,{headingLevel:"h1",size:"4xl",children:d}),e(be,{children:r("introduction")})]})})},J=({feature:r})=>{const{t:i}=L();return a(pe,{className:"pf-u-mb-sm",children:[r.name,"Â ",r.type===b.Experimental&&e(S,{color:"orange",children:i("experimental")}),r.type===b.Preview&&e(S,{color:"blue",children:i("preview")}),r.type===b.Default&&e(S,{color:"green",children:i("supported")})]})},Te=()=>{const{t:r}=L(),{realm:i}=G(),t=Q(),f=ae(),[o,d]=E(),u=_(()=>f(t.features??[],ie("name")),[t.features]),w=_(()=>u.filter(n=>!n.enabled)||[],[t.features]),l=_(()=>u.filter(n=>n.enabled)||[],[t.features]),c=n=>ce(M({realm:i,tab:n}));Z(()=>ee.realms.findOne({realm:i}),d,[]);const s=$(r,o?.displayName,i),v=c("welcome"),g=c("info"),x=c("providers");return Object.keys(t).length===0?e(te,{}):a(X,{children:[e(p,{variant:"light",children:e(ne,{className:"pf-u-mr-sm",children:e(j,{component:"h1",children:r("realmNameTitle",{name:i})})})}),e(p,{variant:"light",className:"pf-u-p-0",children:a(se,{"data-testid":"dashboard-tabs",defaultLocation:M({realm:i,tab:"welcome"}),isBox:!0,mountOnEnter:!0,children:[e(R,{id:"welcome","data-testid":"welcomeTab",title:e(A,{children:r("welcomeTabTitle")}),...v,children:e(p,{variant:"light",children:a("div",{className:"pf-l-grid pf-u-ml-lg",children:[e("div",{className:"pf-l-grid__item pf-m-12-col",children:e(k,{className:"pf-u-font-weight-bold",headingLevel:"h2",size:"3xl",children:r("welcomeTo",{realmDisplayInfo:s})})}),e("div",{className:"pf-l-grid__item keycloak__dashboard_welcome_tab",children:e(j,{component:le.h3,children:r("welcomeText")})}),e("div",{className:"pf-l-grid__item pf-m-10-col pf-u-mt-md",children:e(T,{className:"pf-u-px-lg pf-u-py-sm",component:"a",href:D.documentation,target:"_blank",variant:"primary",children:r("viewDocumentation")})}),a(ue,{className:"pf-u-mt-sm",children:[e(O,{children:e(T,{component:"a",href:D.guides,target:"_blank",variant:"tertiary",children:r("viewGuides")})}),e(O,{children:e(T,{component:"a",href:D.community,target:"_blank",variant:"tertiary",children:r("joinCommunity")})}),e(O,{children:e(T,{component:"a",href:D.blog,target:"_blank",variant:"tertiary",children:r("readBlog")})})]})]})})}),e(R,{id:"info","data-testid":"infoTab",title:e(A,{children:r("serverInfo")}),...g,children:e(p,{variant:"light",children:a(oe,{hasGutter:!0,children:[e(U,{lg:2,sm:12,children:a(z,{className:"keycloak__dashboard_card",children:[e(F,{children:r("serverInfo")}),e(B,{children:e(C,{children:a(I,{children:[e(m,{children:r("version")}),e(h,{children:t.systemInfo?.version})]})})}),e(F,{children:r("memory")}),e(B,{children:e(C,{children:a(I,{children:[e(m,{children:r("totalMemory")}),e(h,{children:t.memoryInfo?.totalFormated}),e(m,{children:r("freeMemory")}),e(h,{children:t.memoryInfo?.freeFormated}),e(m,{children:r("usedMemory")}),e(h,{children:t.memoryInfo?.usedFormated})]})})})]})}),e(U,{lg:10,sm:12,children:a(z,{className:"keycloak__dashboard_card",children:[e(F,{children:r("profile")}),e(B,{children:a(C,{children:[a(I,{children:[a(m,{children:[r("enabledFeatures")," ",e(V,{fieldLabelId:"enabledFeatures",helpText:r("infoEnabledFeatures")})]}),e(h,{children:e(W,{variant:q.inline,children:l.map(n=>e(J,{feature:n},n.name))})})]}),a(I,{children:[a(m,{children:[r("disabledFeatures")," ",e(V,{fieldLabelId:"disabledFeatures",helpText:r("infoDisabledFeatures")})]}),e(h,{children:e(W,{variant:q.inline,children:w.map(n=>e(J,{feature:n},n.name))})})]})]})})]})})]})})}),e(R,{id:"providers","data-testid":"providersTab",title:e(A,{children:r("providerInfo")}),...x,children:e(ve,{})})]})})]})};function tr(){const{realm:r}=G(),i=r==="master";return a(X,{children:[!i&&e(ge,{}),i&&e(Te,{})]})}export{tr as default};
//# sourceMappingURL=Dashboard-DZAPJVvl.js.map
