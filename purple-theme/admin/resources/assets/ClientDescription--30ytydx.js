import{jsxs as i,Fragment as k,jsx as e}from"react/jsx-runtime";import{u as w,Z as x,a0 as b,a1 as r,a3 as o,V as f,ax as p,bb as y,bc as d,aX as s,bz as u,E as A,$ as T}from"./index-C9t2UlUN.js";import{F}from"./FormAccess-DnQCcStE.js";import{u as H,F as D}from"./useIsFeatureEnabled-CkHhuO9z.js";import{D as G}from"./SwitchControl-KjYluOpZ.js";const P=({unWrap:m,protocol:n})=>{const{t:a}=w(),{control:l,watch:C,setValue:g}=x(),v=n||C("protocol"),c=C("publicClient"),I=C("authorizationServicesEnabled"),z=H();return i(F,{isHorizontal:!0,role:"manage-clients",unWrap:m,className:"keycloak__capability-config__form","data-testid":"capability-config-form",children:[v==="openid-connect"&&i(k,{children:[e(b,{hasNoPaddingTop:!0,label:a("clientAuthentication"),fieldId:"kc-authentication",labelIcon:e(r,{helpText:a("authenticationHelp"),fieldLabelId:"authentication"}),children:e(o,{name:"publicClient",defaultValue:!1,control:l,render:({field:t})=>e(f,{"data-testid":"authentication",id:"kc-authentication-switch",label:a("on"),labelOff:a("off"),isChecked:!t.value,onChange:h=>{t.onChange(!h),h||(g("authorizationServicesEnabled",!1),g("serviceAccountsEnabled",!1),g(p("attributes.oidc.ciba.grant.enabled"),!1))},"aria-label":a("clientAuthentication")})})}),e(b,{hasNoPaddingTop:!0,label:a("clientAuthorization"),fieldId:"kc-authorization",labelIcon:e(r,{helpText:a("authorizationHelp"),fieldLabelId:"authorization"}),children:e(o,{name:"authorizationServicesEnabled",defaultValue:!1,control:l,render:({field:t})=>e(f,{"data-testid":"authorization",id:"kc-authorization-switch",label:a("on"),labelOff:a("off"),isChecked:t.value&&!c,onChange:h=>{t.onChange(h),h&&g("serviceAccountsEnabled",!0)},isDisabled:c,"aria-label":a("clientAuthorization")})})}),e(b,{hasNoPaddingTop:!0,label:a("authenticationFlow"),fieldId:"kc-flow",children:i(y,{id:"authenticationFlowGrid",hasGutter:!0,children:[e(d,{lg:4,sm:6,children:e(o,{name:"standardFlowEnabled",defaultValue:!0,control:l,render:({field:t})=>i(s,{children:[e(u,{"data-testid":"standard",label:a("standardFlow"),id:"kc-flow-standard",isChecked:t.value?.toString()==="true",onChange:t.onChange}),e(r,{helpText:a("standardFlowHelp"),fieldLabelId:"standardFlow"})]})})}),e(d,{lg:8,sm:6,children:e(o,{name:"directAccessGrantsEnabled",defaultValue:!0,control:l,render:({field:t})=>i(s,{children:[e(u,{"data-testid":"direct",label:a("directAccess"),id:"kc-flow-direct",isChecked:t.value,onChange:t.onChange}),e(r,{helpText:a("directAccessHelp"),fieldLabelId:"directAccess"})]})})}),e(d,{lg:4,sm:6,children:e(o,{name:"implicitFlowEnabled",defaultValue:!0,control:l,render:({field:t})=>i(s,{children:[e(u,{"data-testid":"implicit",label:a("implicitFlow"),id:"kc-flow-implicit",isChecked:t.value?.toString()==="true",onChange:t.onChange}),e(r,{helpText:a("implicitFlowHelp"),fieldLabelId:"implicitFlow"})]})})}),e(d,{lg:8,sm:6,children:e(o,{name:"serviceAccountsEnabled",defaultValue:!1,control:l,render:({field:t})=>i(s,{children:[e(u,{"data-testid":"service-account",label:a("serviceAccount"),id:"kc-flow-service-account",isChecked:t.value?.toString()==="true"||c&&I,onChange:t.onChange,isDisabled:c&&!I||!c&&I}),e(r,{helpText:a("serviceAccountHelp"),fieldLabelId:"serviceAccount"})]})})}),z(D.DeviceFlow)&&e(d,{lg:8,sm:6,children:e(o,{name:p("attributes.oauth2.device.authorization.grant.enabled"),defaultValue:!1,control:l,render:({field:t})=>i(s,{children:[e(u,{"data-testid":"oauth-device-authorization-grant",label:a("oauthDeviceAuthorizationGrant"),id:"kc-oauth-device-authorization-grant",name:"oauth2.device.authorization.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange}),e(r,{helpText:a("oauthDeviceAuthorizationGrantHelp"),fieldLabelId:"oauthDeviceAuthorizationGrant"})]})})}),e(d,{lg:8,sm:6,children:e(o,{name:p("attributes.oidc.ciba.grant.enabled"),defaultValue:!1,control:l,render:({field:t})=>i(s,{children:[e(u,{"data-testid":"oidc-ciba-grant",label:a("oidcCibaGrant"),id:"kc-oidc-ciba-grant",name:"oidc.ciba.grant.enabled",isChecked:t.value.toString()==="true",onChange:t.onChange,isDisabled:c}),e(r,{helpText:a("oidcCibaGrantHelp"),fieldLabelId:"oidcCibaGrant"})]})})})]})})]}),v==="saml"&&i(k,{children:[e(b,{labelIcon:e(r,{helpText:a("encryptAssertionsHelp"),fieldLabelId:"encryptAssertions"}),label:a("encryptAssertions"),fieldId:"kc-encrypt",hasNoPaddingTop:!0,children:e(o,{name:p("attributes.saml.encrypt"),control:l,defaultValue:!1,render:({field:t})=>e(f,{"data-testid":"encrypt",id:"kc-encrypt",label:a("on"),labelOff:a("off"),isChecked:t.value,onChange:t.onChange,"aria-label":a("encryptAssertions")})})}),e(b,{labelIcon:e(r,{helpText:a("clientSignatureHelp"),fieldLabelId:"clientSignature"}),label:a("clientSignature"),fieldId:"kc-client-signature",hasNoPaddingTop:!0,children:e(o,{name:p("attributes.saml.client.signature"),control:l,defaultValue:!1,render:({field:t})=>e(f,{"data-testid":"client-signature",id:"kc-client-signature",label:a("on"),labelOff:a("off"),isChecked:t.value,onChange:t.onChange,"aria-label":a("clientSignature")})})})]})]})},O=({hasConfigureAccess:m})=>{const{t:n}=w();return i(F,{role:"manage-clients",fineGrainedAccess:m,unWrap:!0,children:[e(A,{name:"clientId",label:n("clientId"),labelIcon:n("clientIdHelp"),rules:{required:{value:!0,message:n("required")}}}),e(A,{name:"name",label:n("name"),labelIcon:n("clientNameHelp")}),e(T,{name:"description",label:n("description"),labelIcon:n("clientDescriptionHelp"),rules:{maxLength:{value:255,message:n("maxLength",{length:255})}}}),e(G,{name:"alwaysDisplayInConsole",label:n("alwaysDisplayInUI"),labelIcon:n("alwaysDisplayInUIHelp")})]})};export{O as C,P as a};
//# sourceMappingURL=ClientDescription--30ytydx.js.map
