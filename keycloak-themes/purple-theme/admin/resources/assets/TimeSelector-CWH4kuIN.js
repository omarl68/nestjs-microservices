import{jsxs as $,jsx as a}from"react/jsx-runtime";import{useState as m,useMemo as I,useEffect as j}from"react";import{u as F,a9 as L,aa as M,aY as k,I as w,J as E,S as G}from"./index-C9t2UlUN.js";const s=[{unit:"second",label:"times.seconds",multiplier:1},{unit:"minute",label:"times.minutes",multiplier:60},{unit:"hour",label:"times.hours",multiplier:3600},{unit:"day",label:"times.days",multiplier:86400}],x=(t=0)=>s.reduce((i,l)=>t%l.multiplier===0&&i.multiplier<l.multiplier?l:i,s[0]),_=(t,i)=>{const l=x(t);return new Intl.NumberFormat(i,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(t/l.multiplier)},q=({value:t,units:i=["second","minute","hour","day"],onChange:l,className:r,min:D,menuAppendTo:O,...d})=>{const{t:f}=F(),[b,h]=m(),u=I(()=>s.find(e=>e.unit===i[0])?.multiplier,[i]),[S,p]=m(""),[o,c]=m(u),[T,y]=m(!1),U=I(()=>{const e=i.map(n=>s.find(V=>V.unit===n));return!e.every(n=>n.multiplier===o)&&e[0]!==s[0]&&e.unshift(s[0]),e},[i,o]);j(()=>{const e=x(t).multiplier;t?(c(e),p(t/e),h(e)):(p(t||""),c(b??u),h(b??u))},[t,u]);const g=(e,n=o)=>{e!==""?(l?.(e*(n||1)),p(e)):l?.("")};return $(L,{hasGutter:!0,className:r,children:[a(M,{children:a(k,{...d,type:"number","aria-label":"kc-time",min:D||0,value:S,className:`${r}-input`,onChange:e=>{g(e===""?e:parseInt(e))}})}),a(M,{id:`${r}-select-menu`,children:a(w,{variant:E.single,"aria-label":f("unitLabel"),className:`${r}-select`,onSelect:(e,n)=>{c(n),g(S,n),y(!1)},menuAppendTo:O,selections:[o],onToggle:()=>{y(!T)},isOpen:T,isDisabled:d.isDisabled,children:U.map(e=>a(G,{id:e.label,value:e.multiplier,children:f(e.label)},e.label))})})]})};export{q as T,_ as t};
//# sourceMappingURL=TimeSelector-CWH4kuIN.js.map
