import{jsxs as e,Fragment as b,jsx as t}from"react/jsx-runtime";import{useMemo as h}from"react";import{u as I,g as S,a as k,e as A,c as F,b as D,aQ as x,P as C,F as G,h as c,L as V,bY as j,f as w,A as E,bZ as H}from"./index-C9t2UlUN.js";import{D as L}from"./DynamicComponents-D5DD9CFr.js";import{F as T}from"./FormAccess-DnQCcStE.js";import{V as z}from"./ViewHeader-cxZm8XhN.js";import{u as B}from"./useParams-DL8-63Ov.js";import{G as K}from"./GeneralSettings-Dq0wvNi4.js";import{A as M}from"./Form-Cdw1qhWG.js";import"react-dom";import"./FileUpload-CTw4RKK1.js";import"./CodeEditor-Cp4g17EF.js";import"./copy-icon-CYSS18Ce.js";import"./EmptyStateBody-CyIhnUop.js";import"./EmptyStateSecondaryActions-BekVwNvY.js";import"./GroupPickerDialog-tI6XV7Ln.js";import"./PaginatingTableToolbar-oQUfBy2J.js";import"./ToolbarContent-D6TJq6fk.js";import"./useToggle-K3Kx99tM.js";import"./KeycloakTextInput-DrlF32nr.js";import"./Modal-Bgkd26UL.js";import"./ConfirmDialog-BDkqxnFL.js";import"./DataListItemRow-Bimi62Tu.js";import"./grip-vertical-icon-B_ub3hpF.js";import"./_baseFlatten-BQ8y46Zj.js";import"./FlexItem-BEayPdRt.js";import"./KeySelect-CPI9XGq0.js";import"./MultiLineInput-DibC-IV_.js";import"./PasswordInput-CJKuHljf.js";import"./AddRoleMappingModal-BWNuJU0W.js";import"./KeycloakDataTable-2rLFZPhG.js";import"./filter-icon-C8nM2k1N.js";import"./KeycloakTextArea-DChmurIP.js";import"./DisplayOrder-Dong-iTt.js";import"./ClientIdSecret-4ICGdsMs.js";function Sr(){const{t:i}=I(),{providerId:r}=B(),s=S(),n=k(),m=h(()=>{const o=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const a of o){const d=n.componentTypes?.[a]?.find(({id:g})=>g===r);if(d)return d}},[n,r]),{handleSubmit:l,formState:{isDirty:u}}=s,{addAlert:f,addError:v}=A(),y=F(),{realm:p}=D(),P=async o=>{try{await w.identityProviders.create({...o,providerId:r,alias:r}),f(i("createIdentityProviderSuccess"),E.success),y(H({realm:p,providerId:r,alias:r,tab:"settings"}))}catch(a){v("createError",a)}};return e(b,{children:[t(z,{titleKey:i("addIdentityProvider",{provider:x(r)})}),t(C,{variant:"light",children:e(T,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:l(P),children:[e(G,{...s,children:[t(K,{id:r}),m&&t(L,{stringify:!0,properties:m.properties})]}),e(M,{children:[t(c,{isDisabled:!u,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),t(c,{variant:"link","data-testid":"cancel",component:o=>t(V,{...o,to:j({realm:p})}),children:i("cancel")})]})]})})]})}export{Sr as default};
//# sourceMappingURL=AddIdentityProvider-cnWuni11.js.map
