import{jsx as n,jsxs as p}from"react/jsx-runtime";import{useMemo as A,useEffect as j,Fragment as B}from"react";import{u as T,Z as F,a4 as $,aX as D,aY as E,h as f,B as m,ac as G,ae as L}from"./index-C9t2UlUN.js";function g(e){return typeof e=="string"?e.split("##"):[]}function P(e){return e.join("##")}const Y=({name:e,addButtonLabel:v,isDisabled:l=!1,defaultValue:o,stringify:i=!1,id:I,...C})=>{const{t:c}=T(),{register:h,setValue:M,control:V}=F(),s=$({name:e,control:V,defaultValue:o||""}),r=A(()=>{let t=i?g(Array.isArray(s)&&s.length===1?s[0]:s):s;return t=Array.isArray(t)&&t.length!==0?t:(i?g(o):o)||[""],t},[s]),b=t=>{u([...r.slice(0,t),...r.slice(t+1)])},k=()=>{u([...r,""])},y=(t,a)=>{u([...r.slice(0,t),a,...r.slice(t+1)])},u=t=>{const a=t.flatMap(d=>d);M(e,i?P(a):a,{shouldDirty:!0})};return j(()=>{h(e)},[h]),n("div",{id:I,children:r.map((t,a)=>p(B,{children:[p(D,{children:[n(E,{"data-testid":e+a,onChange:d=>y(a,d),name:`${e}.${a}.value`,value:t,isDisabled:l,...C}),n(f,{"data-testid":"remove"+a,variant:m.link,onClick:()=>b(a),tabIndex:-1,"aria-label":c("remove"),isDisabled:r.length===1||l,children:n(G,{})})]}),a===r.length-1&&p(f,{variant:m.link,onClick:k,tabIndex:-1,"aria-label":c("add"),"data-testid":"addValue",isDisabled:!t||l,children:[n(L,{})," ",c(v||"add")]})]},a))})};export{Y as M};
//# sourceMappingURL=MultiLineInput-DibC-IV_.js.map
