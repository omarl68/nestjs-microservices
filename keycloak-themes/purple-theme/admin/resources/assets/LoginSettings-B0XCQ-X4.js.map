{"version":3,"file":"LoginSettings-B0XCQ-X4.js","sources":["../../src/clients/add/LoginSettings.tsx"],"sourcesContent":["import { FormGroup } from \"@patternfly/react-core\";\nimport { useFormContext } from \"react-hook-form\";\nimport { useTranslation } from \"react-i18next\";\n\nimport { HelpItem } from \"ui-shared\";\nimport { KeycloakTextInput } from \"../../components/keycloak-text-input/KeycloakTextInput\";\nimport { MultiLineInput } from \"../../components/multi-line-input/MultiLineInput\";\nimport { useRealm } from \"../../context/realm-context/RealmContext\";\nimport environment from \"../../environment\";\nimport { convertAttributeNameToForm } from \"../../util\";\nimport { FormFields } from \"../ClientDetails\";\n\ntype LoginSettingsProps = {\n  protocol?: string;\n  isDisabled?: boolean;\n};\n\nexport const LoginSettings = ({\n  protocol = \"openid-connect\",\n  ...rest\n}: LoginSettingsProps) => {\n  const { t } = useTranslation();\n  const { register, watch } = useFormContext<FormFields>();\n  const { realm } = useRealm();\n\n  const idpInitiatedSsoUrlName: string = watch(\n    \"attributes.saml_idp_initiated_sso_url_name\",\n  );\n\n  const standardFlowEnabled = watch(\"standardFlowEnabled\");\n  return (\n    <>\n      <FormGroup\n        label={t(\"rootUrl\")}\n        fieldId=\"kc-root-url\"\n        labelIcon={\n          <HelpItem helpText={t(\"rootURLHelp\")} fieldLabelId=\"rootUrl\" />\n        }\n      >\n        <KeycloakTextInput\n          id=\"kc-root-url\"\n          type=\"url\"\n          {...register(\"rootUrl\")}\n          {...rest}\n        />\n      </FormGroup>\n      <FormGroup\n        label={t(\"homeURL\")}\n        fieldId=\"kc-home-url\"\n        labelIcon={\n          <HelpItem helpText={t(\"homeURLHelp\")} fieldLabelId=\"homeURL\" />\n        }\n      >\n        <KeycloakTextInput\n          id=\"kc-home-url\"\n          type=\"url\"\n          {...register(\"baseUrl\")}\n          {...rest}\n        />\n      </FormGroup>\n      {standardFlowEnabled && (\n        <>\n          <FormGroup\n            label={t(\"validRedirectUri\")}\n            fieldId=\"kc-redirect\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"validRedirectURIsHelp\")}\n                fieldLabelId=\"validRedirectUri\"\n              />\n            }\n          >\n            <MultiLineInput\n              id=\"kc-redirect\"\n              name=\"redirectUris\"\n              aria-label={t(\"validRedirectUri\")}\n              addButtonLabel=\"addRedirectUri\"\n              {...rest}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"validPostLogoutRedirectUri\")}\n            fieldId=\"kc-postLogoutRedirect\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"validPostLogoutRedirectURIsHelp\")}\n                fieldLabelId=\"validPostLogoutRedirectUri\"\n              />\n            }\n          >\n            <MultiLineInput\n              id=\"kc-postLogoutRedirect\"\n              name={convertAttributeNameToForm(\n                \"attributes.post.logout.redirect.uris\",\n              )}\n              aria-label={t(\"validPostLogoutRedirectUri\")}\n              addButtonLabel=\"addPostLogoutRedirectUri\"\n              stringify\n              {...rest}\n            />\n          </FormGroup>{\" \"}\n        </>\n      )}\n      {protocol === \"saml\" && (\n        <>\n          <FormGroup\n            label={t(\"idpInitiatedSsoUrlName\")}\n            fieldId=\"idpInitiatedSsoUrlName\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"idpInitiatedSsoUrlNameHelp\")}\n                fieldLabelId=\"idpInitiatedSsoUrlName\"\n              />\n            }\n            helperText={\n              idpInitiatedSsoUrlName !== \"\" &&\n              t(\"idpInitiatedSsoUrlNameHelp\", {\n                url: `${environment.authServerUrl}/realms/${realm}/protocol/saml/clients/${idpInitiatedSsoUrlName}`,\n              })\n            }\n          >\n            <KeycloakTextInput\n              id=\"idpInitiatedSsoUrlName\"\n              data-testid=\"idpInitiatedSsoUrlName\"\n              {...register(\"attributes.saml_idp_initiated_sso_url_name\")}\n              {...rest}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"idpInitiatedSsoRelayState\")}\n            fieldId=\"idpInitiatedSsoRelayState\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"idpInitiatedSsoRelayStateHelp\")}\n                fieldLabelId=\"idpInitiatedSsoRelayState\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"idpInitiatedSsoRelayState\"\n              data-testid=\"idpInitiatedSsoRelayState\"\n              {...register(\"attributes.saml_idp_initiated_sso_relay_state\")}\n              {...rest}\n            />\n          </FormGroup>\n          <FormGroup\n            label={t(\"masterSamlProcessingUrl\")}\n            fieldId=\"masterSamlProcessingUrl\"\n            labelIcon={\n              <HelpItem\n                helpText={t(\"masterSamlProcessingUrlHelp\")}\n                fieldLabelId=\"masterSamlProcessingUrl\"\n              />\n            }\n          >\n            <KeycloakTextInput\n              id=\"masterSamlProcessingUrl\"\n              type=\"url\"\n              data-testid=\"masterSamlProcessingUrl\"\n              {...register(\"adminUrl\")}\n              {...rest}\n            />\n          </FormGroup>\n        </>\n      )}\n      {protocol !== \"saml\" && standardFlowEnabled && (\n        <FormGroup\n          label={t(\"webOrigins\")}\n          fieldId=\"kc-web-origins\"\n          labelIcon={\n            <HelpItem\n              helpText={t(\"webOriginsHelp\")}\n              fieldLabelId=\"webOrigins\"\n            />\n          }\n        >\n          <MultiLineInput\n            id=\"kc-web-origins\"\n            name=\"webOrigins\"\n            aria-label={t(\"webOrigins\")}\n            addButtonLabel=\"addWebOrigins\"\n            {...rest}\n          />\n        </FormGroup>\n      )}\n    </>\n  );\n};\n"],"names":["LoginSettings","protocol","rest","t","useTranslation","register","watch","useFormContext","realm","useRealm","idpInitiatedSsoUrlName","standardFlowEnabled","jsxs","Fragment","jsx","FormGroup","HelpItem","KeycloakTextInput","MultiLineInput","convertAttributeNameToForm","environment"],"mappings":"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"}